# 함수형 자바스크립트

## 날짜: 2020.01.01 ~

## Part_2. 함수형으로 전환하기

## 목차

- [자료구조는 적게, 일은 더 많이](#자료구조는-적게-일은-더-많이)
  - [애플리케이션 제어 흐름](#애플리케이션-제어-흐름)
  - [메서드 체이닝](#메서드-체이닝)
  - [함수 체이닝](#함수-체이닝)
    - [람다 표현식](#람다-표현식)

#### 자료구조는 적게, 일은 더 많이

- map, reduce, filter에 대해서 알아본다.
- lodash를 사용하는 법을 알아본다.
- 재귀함수에 대해서 알아본다.

##### 애플리케이션 제어 흐름

- 프로그램이 정답에 이르기까지 거치는 경로를 `제어 흐름(Contr flow)`이라 한다.
- FP는 독립접인 블랙박스 연산들이 단순하고, 최소한의 제어 구조를 통해 추상화시킨 후 이를 연결한다.
- FP는 데이터와 제어 흐름 자체를 고수준 컴포넌트 사이의 단순한 연결로 취급한다.

``` js
// [ Func A ] --> [ Func B ] --> [ Func C ] --> [ Func D ]
// -------------------- 프로그램 실행 ----------------------

// 이를 코드화 시키면 다음처럼 표현 할 수 있다.
FuncA().FuncB().FuncC().FuncD();

// 다만 위코드 처럼 점으로 연결시키려면 
// 메서드가 모두 포함된 객체가 있어야 한다.
```

##### `메서드 체이닝`

- `메서드 체이닝(method chaining)`은 여러 메서드를 단일 구문으로 호출하는 OOP 패턴이다.
- 메서드가 모두 동일한 객체에 속해 있으면 메서드 흘리기라고도 하는데 이는 객체지향 프로그램에서 불변 객체에 많이 사용하는 패턴이지만 FP에도 유용하다.

``` js
// Method chaining 예시
'hello World'.substring(0, 5).toUpperCase() + ' FP '; // HELLO FP

// FP 형태로 변형
concat(toUpperCase(subString('hello Work', 0, 5)), ' FP');
```

- 함수형 교리(불변객체, 부수효과X)를 모두 따르지만 함수 코드를 안쪽에서 바깥쪽으로 작성하면 메서드 체이닝보다는 이해하기 어렵다. 안쪽부터 하나씩 함수를 까봐야 하기 때문이다. 그렇다면 함수를 체이닝 하는 방법은 없는걸까? 이 방법에 대해서 알아보자.

##### `함수 체이닝`

- 객체지향 프로그램은 주로 상속을 통해 코드를 재사용한다. EX -> 자바에서 List 인터페이스를 용도에 맞춰서 달리 구현한 ArrayList, LinkedList 등등이 있다. 이들은 모두 한 부모에서 출발하여 나름대로 특수한 기능을 덧붙인 클래스이다. 그래서 메서드 체이닝을 사용할 수 있다.
- 하지만 FP는 방법이 조금 다른데, **자료구조(클래스?)를 새로 만들어 어떤 요건을 충족시키는게 아니고, 배열 등의 흔한 자료구조를 이용해 다수의 굵게 나뉜 고계 연산을 적용한다.**
  - 작업을 수행하기 위해 무슨 일을 해야 하는지 기술된 함수를 인수로 받는다.
  - 임시 변수의 값을 계속 바꾸면서 부수효과를 일으키는 기존 수동 루프를 대체한다. 이러면 관리할 코드가 줄고 에러도 줄어든다.

###### 람다 표현식

``` js
const getName = (person) => person.name;
```

- `람다 표현식(lambda expression)(자바스크립트에서는 화살표 함수)`은 한 줄 짜리 익명 함수를 일반 함수 선언보다 단축된 구문으로 나타낸다.
- 람다 표현식은 항성 어떤값을 반화하게 만들어 함수 정의부를 확실히 함수형으로 굳힌다.
- FP는 람다 표현식과 잘 어울리는 세 주요 고계함수 map, reduce, filter를 적극 사용하는 것을 권장한다.
- 자바스크립트의 전신이자 원조 함수형 언어인 LISP의 이름도 LIst Processor(리스트 처리기)에서 비롯된 것이다.
