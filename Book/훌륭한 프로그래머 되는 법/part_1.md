# 훌륭한 프로그래머 되는 법

## 날짜: 2019.08.19 ~ 

## Chapter1. you.write(code)

### 목차

- [코드에 신경쓰기](#코드에-신경쓰기)
- [정돈된 코드 유지하기](#정돈된-코드-유지하기)
- [코드 적게 쓰기](#코드-적게-쓰기)
- [코드 줄여 개선하기](#코드-줄여-개선하기)
- [코드베이스의 망령](#코드베이스의-망령)
- [경로 탐색하기](#경로-탐색하기)
- [똥통에서 뒹굴기](#똥통에서-뒹굴기)

#### 코드에 신경쓰기

- 좋은 코드를 작성하려면 코드에 신경을 써야한다. 훌륭한 프로그래머가 되려면 **시간**과 **노력**을 투자 해야 한다.
- 코드에 신경쓰고 코드를 개선하려는 노력을 해야 한다.
- 좋은 프로그래머가 되기 위해서는 다음과 같이 행동 해야 한다.
  - **단지 작동하는 것처럼 보이는 코딩은 거부해야 한다.**
  - **프로그래머는 올바르게 동작하는 훌륭한 코드를 짜도록 노력해야 한다.**
  - **의도가 드러나는 코드를 작성해야 한다.**
  - **유지보수가 가능해야 한다.**
  - **정확하고 명확해야 한다.**

#### 정돈된 코드 유지하기

- 좋은 프로그래머는 코드의 좋은 레이아웃에 대해 깊이 고민한다. 하지만 탭과 스페이스와 같은 사소한 논쟁은 극복한다. 어른답게 행동하자.
- 일반적으로 잘못된 레이아웃에 집중하는 상황은 잘못된 코드 리뷰 상황을 통해 설명 할수 있다. 코드가 주어졌을떄 코드의 레이아웃에서 오류를 찾으려는 경향이 있다. 진정한 코드리뷰는 레이아웃이 아닌 코드 자체에 집중해야 하는 것이다.
- **좋은 코드는 명백하며 일광성이 있다. 좋은 코드는 레이아웃이 눈에 띄지 않는다.**
- **프로그래머가 레이아웃에 신경을 쓰지 않는다면, 품질 문제에도 신경을 쓰지 않는 것이다. 레이아웃에도 항상 주의를 하자.**
- 코드 레이아웃보다 더 중요한것은 코드의 전체 형태와 구조를 파악할수 있도록 작성해야 하는 것이다. 더 중요한것들을 보자
  - **구조 잡기**
    - **글을 쓰듯 코드를 작성해야 한다. 코드를 장, 문장, 문단 단위로 자르고, 비슷한 것끼리 묶고 다른것은 나누자.**
    - **가장 중요한 정보는 마지막이 아닌 맨앞에 놓는다.**
    - **코드를 읽는 사람을 고려하자. 작성한 사람이 아닌 이 코드를 읽는 사람을 고려하여 작성해야 한다.**
  - **일관성**
    - **여러 레이아웃을 지키려 하지 말고, 딱 하나만 골라서 일광성 있게 쓰자.**
    - 사용하는 언에 알맞은 스타일을 고르는 것이 좋다.
  - **명명**
    - **이름은 사물의 정체성을 의미한다. 그 어떤 사물이든간에 정확하게 무엇인지 알아야만 이름을 붙일수 있다. 명확하게 설명하지 못하거나 어떻게 쓰일지 모른다면, 제대로 이름을 붙일 수 없다.**
    - **문맥이 내용을 좌지우지 한다. 명명할때는 문액을 확인하자.**
    - 불필요한 반복을 피하고 문맥을 이용하라.
    - 명화하게 작성하라.
    - 광용어법을 지켜라.
    - 정확하게 하라.
  - **가다듬기**
    - **코드를 정리정돈해야하는 경우에는 기능 변경과 모양 변경을 동시에 진행하지 말라. 두가지가 섞여 있을 커밋을 내용을 보면 혼란스럽다.**
    - 자신만의 레이아웃 스타일을 발전시키자.

#### 코드 적게 쓰기

- **소프트웨어를 개선하는 최고의 방법 가운데 하나는 바로 코드를 제거 하는 것이다.**
- **돼지들이나 자신의 오물안에서 산다. 코드를 작성한 후에는 스스로 정리하고 불필요한 코드를 제거한다.**
- 코드가 길면 좋지 않은 이유에 대해서 알아보자.
  - 코드를 길게 쓸수로 유지보수 비용은 증가한다.
  - 긴 코드는 이해해야 할 내용이 많음을 의미하고, 이는 곧 프로그램을 파악하기 더 어렵게 만든다.
  - 코드가 많을수록 수정해야 할 부분도 많아지고 수정하기도 어려워진다.
  - 코드가 많을수록 버그가 많아진다.
- 그렇다면 **코드를 줄이기 위해서는 어떠한 방법**을 사용할 수 있는지 알아보자.
  - **허술한 논리**
    - 조건문의 중복적인 논리구조 남발을 꼽을 수 있다.

      ``` js
      if (expressions) {
        return true;
      } else {
        return false
      }

      // 위 코드는 다음 코드로 줄일 수 있다.
      return expressions;
      // 훨씬 간단하고 이해하기도 쉽다.
      ```

      ``` js
      if (a || (!a ** b)) {
        // Code
      }

      // 위 코드는 다음 코드로 줄일수 있다.
      if ( a || b) {
        // Code
      }
      ```

  - **중복 제거**
    - 게으른 프로그래머는 반복되는 코드를 공통 함수에 넣기를 고려하는 대신, 에디터를 통해 한 곳에서 다른 곳으로 물리적으로 복사하여 옮긴다. 붙여넣기를 한 코드에 약간의 변경이 더해질 때 죄악을 가증한다.
    - 약간 다르지만 비슷한 코드가 있다면, 다른 부분을 파악하여 하나의 함수에서 매개 변수로 분기 처리하자.
    - 공통 함수에 넣을 경우 긴밀한 결합도(`coupling`)을 가지게 되는데, 수정된 내용은 연관된 코드에 모두 적용되고 올바르게 작동해야 한다.
  - **죽은 코드 제거**
    - 죽은 코드란 실행되거나 호출되지 않는 생명력 없는 코드를 말한다. 이러한 코드를 삭제하면 전체 코드량을 줄일 수 있다.
  - **주석 제거**
    - 좋은 코드는 작동법을 설명하는 대량의 주석을 필요로 하지 않는다. 변수, 함수, 클래스 이름의 적적한 선택과 올바른 구조는 코드를 더욱 명확하게 만든다.
    - 주석을 달아야 할 만큼 복잡한 알고리즘은 거의 존재하지 않는다.
    - 애초에 주석을 달만한 코드를 작성하지 말라.
  - **장황한 내용**
    - 많은 코드가 쓸데없이 수다스러운 경우가 있다. 코드를 줄일 수 있는지 다시 생각해보자
    - 삼항연산자를 두려워 하지 말자. 이는 코드를 줄이는데 도움이 된다.
    - 변수의 선언 부분과 정의 부분을 같은 위치에 쓰라. 코드 이해에 필요한 노력을 최소화하고 초기화 되지 않는 변수로 인한 잠재적 에러를 줄일수 있다.
  - **나쁜 설계**
    - 사용되지 않는 많은 코드와 원래의 의도와 다른게 변화한 코드를 갈아엎는 것을 두려워 하지 말라.
    - 오래된 코드를 필요한 것만 남기고 간결한 컴포넌트로 바꿔라
  - **공백**
    - 적절한 공백은 코드 구조에 도움이 된다. 다만 과한 사용은 좋지 않다.

#### 코드 줄여 개선하기

- **YANG** -> `"You Aren't Gonna Need It"(불필요한 코드를 작성하지 말자)`
- **당장 필요하지 않은 코드라면 작성하지 말고 정말로 필요할떄 작성하라.**
- 새로운 코드를 추가하여 시스템을 개선 할 수 있다. 반대로 코드를 제거하여 시스템을 개선 할 수도 있다.
- **제멋대로인 코드가 작성하지 않으려면 다음 사항을 유의 해야 한다.**
  - **의미가 있을 때만 코드를 작성한다.**
  - **당장 필요하지 않다면 지금 작성하지 않는다.**
  - **여분의 작은 코드 덩어리는 시간이 지날수록 유지보수가 필요한 큰 덩어리로 변한다.**
  - **프로그래머가 시스템의 요구사항을 결정하지 말자. 그것은 사용자의 몫이다.**
- 반대로 불가피한 상황으로 인해 죽은 코드가 발생하는 경우가 있다. 괴사 코드는 보통 다음과 같다.
  - 백엔드 지원 코드에 남아 있는 경우
  - 더는 사용되지 않는 자료형 또는 클래스가 프로젝트에 남아 있는 경우
  - 기존 제품의 기능들이 거의 제거되지 않는 경우
  - 코드에 대한 오랜 기간의 유지 보수로 인해 함수 일부가 실행되지 않는 경우
  - 잘 사용되지 않는 이벤트 핸들러가 있는 경우
  - 전혀 사용되지 않는 함수 반환 값이 있는 경우
  - 디버그 코드가 괴사하는 경우
- 괴사 코드는 다음과 같은 문제를 야기한다. 그렇기 떄문에 죽은코드는 정기적으로 적출 해야 한다.
  - 불필요한 코드 역시 다른 필요한 코드와 마찬가지로 유지 보수가 되어야 한다.
  - 추가적인 이해와 검토를 필요로 한다.
  - 사용 여부와 상관없이 쓸데없이 긴 코드는 주의깊게 프로그래밍할 수 없으며 엉성하게 작성할 수 밖에 없다.
  - 코드가 좀비로 가득차면 리팩토링이나 간소화, 최적화는 더 어려워진다.
- 죽은 코드를 찾아내는 방법
  - 코드 작업을 할 떄 주의를 기울인다.
  - 작업 후에는 쓸모 없는 코드를 확실하게 정리한다.
  - 정기적인 코드 리뷰는 죽은 코드를 찾는데 도움이 된다.
  - IDE를 활용한다.
- 죽은 코드를 제거하는 일은 해롭지 않다. 이전 기능이 다시 필요할 때는 버전 관리 시스템으로 다시 살릴수 있다.
- **죽은 코드를 제거하는 작업과 기능 축가 작업을 병행하지 말라. 항상 다른 개발작업과 대청소 기능을 분리한다.**

#### 코드베이스의 망령

- 오래된 코드는 시간에 지남에 따라서 문제가 생길 수 있다.
- 오래된 코드를 다시 살펴 보는 것은 코딩 기술 등을 향상시키는 데 도움을 준다.
- 오래된 코드를 다시 보면 다음과 같은 이유로 끔찍한 기분에 휩싸일수 있다.
  - 외관
    - 코드를 작성했을시에 코딩 스타일과 지금의 코딩 스타일을 달라 보일수 있다.
  - 최신 기술
    - 라이브러리, 언어가 발전함에 따라서 이전에 작성한 코드가 구식처럼 보일 수 있다.
  - 관례
    - 처음 코드를 작성하였을떄 관례적으로 사용한 코드가 시간이 지남에 따라서 다양한 모습으로 변경될 수 있다.
  - 설계 결정 사항
    - 이전 설계에서 결정한 내용들이 끔찍해 보일 수 있다
  - 버그
    - 오래된 코드를 보게 만드는 가장 큰 이유일 것이다. 오래된 코드를 다시 보았을떄 이전에는 놓친 문제를 발견 할 수도 있다.
- **오래된 코드는 고쳐야 할까?. -> 고장 나지 않았다면 고치지 말자. 코드 주변이 변하지 않는 이상 코드는 썩지 않는다.**

#### 경로 탐색하기

- 거대한 코드베이스 적응하기란 어려운 일이다. 적응을 위해서는 다음과 같은 작업을 재빠르게 해내야 한다.
  - 코드의 어느 부분부터 보아야 하는지 파악하기
  - 코드의 부분별 기능을 알아내고, 그 기능을 어떻게 수행하는지 살펴보기
  - 코드의 품질을 가늠하기
  - 시스템 내부를 어떻게 탐색할 것인지 계획하기
  - 코딩 관례를 이해하고, 본인의 수정 사항이 그것과 어울리도록 만들기
  - 특정 기능이 있을 법한 위치를 파악하고, 그 기능에 의해 발생하는 버그 찾아보기
  - 코드와 함께 그것의 중요한 부속 부분들인 테스트 코드 및 문서등의 관계를 이해하기
- **코드를 파악하는 가장 좋은 방법은 이미 코드를 파악하고 있는 사람의 도움을 얻는 것이다. 도움 요청을 주저하지 말자.**
- **합리적이고 적절한 질문을 하자. "제 숙제를 대신 해주실 수 있을까요"와 같은 질문을 통해서는 좋은 대답을 들을 수 없다.**
- 도와주는 사람이 없다면 코드속에서 단서를 찾아야 한다. 좋은 단서는 다음과 같다.
  - 소스 획득의 용이성
  - 코드 빌드의 용이성
  - 테스트
  - 파일 구조
  - 문서
  - 정적 분석
  - 요구사항
  - 프로젝트의 의존성
  - 코드 품질
  - 구조

#### 똥통에서 뒹굴기

- **훌륭한 코드는 순수 예술이나 한 편의 시와 같다. 아름다움이 있다.**
- 하지만 악취가 나는 똥통과 같은 코드가 있다. 이런 코드에서 일을 할 경우를 준비하자.
- 나쁜 코드를 만났을 떄 느껴지는 혐오감을 참으라. 대신 그걸 나아지게 할 방법을 찾으라.
- **나쁜 코드를 고쳐야 할까? -> 시간을 지혜롭게 쓰라. 별다른 수정 없이도 몇 년 동안 적절히 작동했다면, 지금 수정하는 것은 적절하지 않을 수 있다.**
- **다만 지금 당장 코드를 수정하는게 적절하지 않다 판단했다고 해서, 오물 위에 둥둥 떠다녀도 된다는 것은 아니다.** 간단한 수정부터 하자. 코드 외관을 수정하고, 변수명을 바꾸고, 복잡한 분기를 수정하자. 조금씩 나아지게 만들면 좋은 결과를 만들수 있다.
- **나쁜 코드 수정하기**
  - **코드 수정은 천천히 주의 깊게 하자. 한번에 하나씩이다.**
  - **기능 변경을 하면서 코드의 레이아웃을 바꾸지 말라. 레이아웃을 바꾸고 커밋한뒤 기능변경을 해라.**
  - **수정으로 인해 기존 기능에 문제가 생기지 않음을 보장할 수 있는 모든 수단을 사용하라.**
  - **이 목표에 효과적으로 도달하려면 적절한 단위 테스트들로 코드를 충분히 둘러싸야 한다.**
  - **코드를 감싼 API를 수정하되 내부 로직을 직접 수정하지 말라.**
- 코드에 비난을 퍼붓는건 도움이 되지 않는다. 일부러 잘못된 코드를 작성하려는 사람은 없다.
